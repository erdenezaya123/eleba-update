{"remainingRequest":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\src\\views\\BusinessList.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\src\\views\\BusinessList.vue","mtime":1725332322296},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0IEZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL0Zvb3Rlci52dWUnOw0KCQ0KCWV4cG9ydCBkZWZhdWx0ew0KCQluYW1lOidCdXNpbmVzc0xpc3QnLA0KCQlkYXRhKCl7DQoJCQlyZXR1cm4gew0KCQkJCW9yZGVyVHlwZUlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlclR5cGVJZCwNCgkJCQlidXNpbmVzc0FycjpbXSwNCgkJCQl1c2VyOnt9DQoJCQl9DQoJCX0sDQoJCWNyZWF0ZWQoKSB7DQoJCQl0aGlzLnVzZXIgPSB0aGlzLiRnZXRTZXNzaW9uU3RvcmFnZSgndXNlcicpOw0KCQkJDQoJCQkvL+agueaNrm9yZGVyVHlwZUlk5p+l6K+i5ZWG5a625L+h5oGvDQoJCQl0aGlzLiRheGlvcy5wb3N0KCdCdXNpbmVzc0NvbnRyb2xsZXIvbGlzdEJ1c2luZXNzQnlPcmRlclR5cGVJZCcsdGhpcy4kcXMuc3RyaW5naWZ5KHsNCgkJCQlvcmRlclR5cGVJZDp0aGlzLm9yZGVyVHlwZUlkDQoJCQl9KSkudGhlbihyZXNwb25zZT0+ew0KCQkJCXRoaXMuYnVzaW5lc3NBcnIgPSByZXNwb25zZS5kYXRhOw0KCQkJCS8v5Yik5pat5piv5ZCm55m75b2VDQoJCQkJaWYodGhpcy51c2VyIT1udWxsKXsNCgkJCQkJdGhpcy5saXN0Q2FydCgpOw0KCQkJCX0NCgkJCX0pLmNhdGNoKGVycm9yPT57DQoJCQkJY29uc29sZS5lcnJvcihlcnJvcik7DQoJCQl9KTsNCgkJfSwNCgkJY29tcG9uZW50czp7DQoJCQlGb290ZXINCgkJfSwNCgkJbWV0aG9kczp7DQoJCQlsaXN0Q2FydCgpew0KCQkJCXRoaXMuJGF4aW9zLnBvc3QoJ0NhcnRDb250cm9sbGVyL2xpc3RDYXJ0Jyx0aGlzLiRxcy5zdHJpbmdpZnkoew0KCQkJCQl1c2VySWQ6dGhpcy51c2VyLnVzZXJJZA0KCQkJCX0pKS50aGVuKHJlc3BvbnNlPT57DQoJCQkJCWxldCBjYXJ0QXJyID0gcmVzcG9uc2UuZGF0YTsNCgkJCQkJLy/pgY3ljobmiYDmnInpo5/lk4HliJfooagNCgkJCQkJZm9yKGxldCBidXNpbmVzc0l0ZW0gb2YgdGhpcy5idXNpbmVzc0Fycil7DQoJCQkJCQlidXNpbmVzc0l0ZW0ucXVhbnRpdHkgPSAwOw0KCQkJCQkJZm9yKGxldCBjYXJ0SXRlbSBvZiBjYXJ0QXJyKXsNCgkJCQkJCQlpZihjYXJ0SXRlbS5idXNpbmVzc0lkPT1idXNpbmVzc0l0ZW0uYnVzaW5lc3NJZCl7DQoJCQkJCQkJCWJ1c2luZXNzSXRlbS5xdWFudGl0eSArPSBjYXJ0SXRlbS5xdWFudGl0eTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJdGhpcy5idXNpbmVzc0Fyci5zb3J0KCk7DQoJCQkJfSkuY2F0Y2goZXJyb3I9PnsNCgkJCQkJY29uc29sZS5lcnJvcihlcnJvcik7DQoJCQkJfSk7DQoJCQl9LA0KCQkJdG9CdXNpbmVzc0luZm8oYnVzaW5lc3NJZCl7DQoJCQkJdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Jy9idXNpbmVzc0luZm8nLHF1ZXJ5OntidXNpbmVzc0lkOmJ1c2luZXNzSWR9fSk7DQoJCQl9DQoJCX0NCgl9DQo="},{"version":3,"sources":["BusinessList.vue"],"names":[],"mappings":";AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BusinessList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\r\n\t\t<!-- header部分 -->\r\n\t\t<header>\r\n\t\t\t<p>商家列表</p>\r\n\t\t</header>\r\n\r\n\t\t<!-- 商家列表部分 -->\r\n\t\t<ul class=\"business\">\r\n\t\t\t<li v-for=\"item in businessArr\" @click=\"toBusinessInfo(item.businessId)\">\r\n\t\t\t\t<div class=\"business-img\">\r\n\t\t\t\t\t<img :src=\"item.businessImg\">\r\n\t\t\t\t\t<div class=\"business-img-quantity\" v-show=\"item.quantity>0\">{{item.quantity}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"business-info\">\r\n\t\t\t\t\t<h3>{{item.businessName}}</h3>\r\n\t\t\t\t\t<p>&#165;{{item.starPrice}}起送 | &#165;{{item.deliveryPrice}}配送</p>\r\n\t\t\t\t\t<p>{{item.businessExplain}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<!-- 底部菜单部分 -->\r\n\t\t<Footer></Footer>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Footer from '../components/Footer.vue';\r\n\t\r\n\texport default{\r\n\t\tname:'BusinessList',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\torderTypeId: this.$route.query.orderTypeId,\r\n\t\t\t\tbusinessArr:[],\r\n\t\t\t\tuser:{}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.user = this.$getSessionStorage('user');\r\n\t\t\t\r\n\t\t\t//根据orderTypeId查询商家信息\r\n\t\t\tthis.$axios.post('BusinessController/listBusinessByOrderTypeId',this.$qs.stringify({\r\n\t\t\t\torderTypeId:this.orderTypeId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.businessArr = response.data;\r\n\t\t\t\t//判断是否登录\r\n\t\t\t\tif(this.user!=null){\r\n\t\t\t\t\tthis.listCart();\r\n\t\t\t\t}\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tFooter\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tlistCart(){\r\n\t\t\t\tthis.$axios.post('CartController/listCart',this.$qs.stringify({\r\n\t\t\t\t\tuserId:this.user.userId\r\n\t\t\t\t})).then(response=>{\r\n\t\t\t\t\tlet cartArr = response.data;\r\n\t\t\t\t\t//遍历所有食品列表\r\n\t\t\t\t\tfor(let businessItem of this.businessArr){\r\n\t\t\t\t\t\tbusinessItem.quantity = 0;\r\n\t\t\t\t\t\tfor(let cartItem of cartArr){\r\n\t\t\t\t\t\t\tif(cartItem.businessId==businessItem.businessId){\r\n\t\t\t\t\t\t\t\tbusinessItem.quantity += cartItem.quantity;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.businessArr.sort();\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoBusinessInfo(businessId){\r\n\t\t\t\tthis.$router.push({path:'/businessInfo',query:{businessId:businessId}});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ******************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/****************** header部分 ******************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097FF;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/****************** 商家列表部分 ******************/\r\n\t.wrapper .business {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 12vw;\r\n\t\tmargin-bottom: 14vw;\r\n\t}\r\n\r\n\t.wrapper .business li {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 2.5vw;\r\n\t\tborder-bottom: solid 1px #DDD;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .business li .business-img {\r\n\t\t/*这里设置为相当定位，成为business-img-quantity元素的父元素*/\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.wrapper .business li .business-img img {\r\n\t\twidth: 20vw;\r\n\t\theight: 20vw;\r\n\t}\r\n\r\n\t.wrapper .business li .business-img .business-img-quantity {\r\n\t\twidth: 5vw;\r\n\t\theight: 5vw;\r\n\t\tbackground-color: red;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 3.6vw;\r\n\t\tborder-radius: 2.5vw;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\t/*设置成绝对定位，不占文档流空间*/\r\n\t\tposition: absolute;\r\n\t\tright: -1.5vw;\r\n\t\ttop: -1.5vw;\r\n\t}\r\n\r\n\t.wrapper .business li .business-info {\r\n\t\tmargin-left: 3vw;\r\n\t}\r\n\r\n\t.wrapper .business li .business-info h3 {\r\n\t\tfont-size: 3.8vw;\r\n\t\tcolor: #555;\r\n\t}\r\n\r\n\t.wrapper .business li .business-info p {\r\n\t\tfont-size: 3vw;\r\n\t\tcolor: #888;\r\n\t\tmargin-top: 2vw;\r\n\t}\r\n</style>\n"]}]}