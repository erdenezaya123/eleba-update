{"remainingRequest":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js!D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\src\\views\\BusinessList.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\src\\views\\BusinessList.vue","mtime":1725332322296},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\babel.config.js","mtime":1725332320241},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\hbuider\\HBuilderX\\data\\elmclient\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBGb290ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Gb290ZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCdXNpbmVzc0xpc3QnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlclR5cGVJZDogdGhpcy4kcm91dGUucXVlcnkub3JkZXJUeXBlSWQsCiAgICAgIGJ1c2luZXNzQXJyOiBbXSwKICAgICAgdXNlcjoge30KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy51c2VyID0gdGhpcy4kZ2V0U2Vzc2lvblN0b3JhZ2UoJ3VzZXInKTsKCiAgICAvL+agueaNrm9yZGVyVHlwZUlk5p+l6K+i5ZWG5a625L+h5oGvCiAgICB0aGlzLiRheGlvcy5wb3N0KCdCdXNpbmVzc0NvbnRyb2xsZXIvbGlzdEJ1c2luZXNzQnlPcmRlclR5cGVJZCcsIHRoaXMuJHFzLnN0cmluZ2lmeSh7CiAgICAgIG9yZGVyVHlwZUlkOiB0aGlzLm9yZGVyVHlwZUlkCiAgICB9KSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMuYnVzaW5lc3NBcnIgPSByZXNwb25zZS5kYXRhOwogICAgICAvL+WIpOaWreaYr+WQpueZu+W9lQogICAgICBpZiAodGhpcy51c2VyICE9IG51bGwpIHsKICAgICAgICB0aGlzLmxpc3RDYXJ0KCk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9KTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcgogIH0sCiAgbWV0aG9kczogewogICAgbGlzdENhcnQoKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJ0NhcnRDb250cm9sbGVyL2xpc3RDYXJ0JywgdGhpcy4kcXMuc3RyaW5naWZ5KHsKICAgICAgICB1c2VySWQ6IHRoaXMudXNlci51c2VySWQKICAgICAgfSkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGxldCBjYXJ0QXJyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAvL+mBjeWOhuaJgOaciemjn+WTgeWIl+ihqAogICAgICAgIGZvciAobGV0IGJ1c2luZXNzSXRlbSBvZiB0aGlzLmJ1c2luZXNzQXJyKSB7CiAgICAgICAgICBidXNpbmVzc0l0ZW0ucXVhbnRpdHkgPSAwOwogICAgICAgICAgZm9yIChsZXQgY2FydEl0ZW0gb2YgY2FydEFycikgewogICAgICAgICAgICBpZiAoY2FydEl0ZW0uYnVzaW5lc3NJZCA9PSBidXNpbmVzc0l0ZW0uYnVzaW5lc3NJZCkgewogICAgICAgICAgICAgIGJ1c2luZXNzSXRlbS5xdWFudGl0eSArPSBjYXJ0SXRlbS5xdWFudGl0eTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLmJ1c2luZXNzQXJyLnNvcnQoKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICB0b0J1c2luZXNzSW5mbyhidXNpbmVzc0lkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2J1c2luZXNzSW5mbycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGJ1c2luZXNzSWQ6IGJ1c2luZXNzSWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["Footer","name","data","orderTypeId","$route","query","businessArr","user","created","$getSessionStorage","$axios","post","$qs","stringify","then","response","listCart","catch","error","console","components","methods","userId","cartArr","businessItem","quantity","cartItem","businessId","sort","toBusinessInfo","$router","push","path"],"sources":["src/views/BusinessList.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\r\n\t\t<!-- header部分 -->\r\n\t\t<header>\r\n\t\t\t<p>商家列表</p>\r\n\t\t</header>\r\n\r\n\t\t<!-- 商家列表部分 -->\r\n\t\t<ul class=\"business\">\r\n\t\t\t<li v-for=\"item in businessArr\" @click=\"toBusinessInfo(item.businessId)\">\r\n\t\t\t\t<div class=\"business-img\">\r\n\t\t\t\t\t<img :src=\"item.businessImg\">\r\n\t\t\t\t\t<div class=\"business-img-quantity\" v-show=\"item.quantity>0\">{{item.quantity}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"business-info\">\r\n\t\t\t\t\t<h3>{{item.businessName}}</h3>\r\n\t\t\t\t\t<p>&#165;{{item.starPrice}}起送 | &#165;{{item.deliveryPrice}}配送</p>\r\n\t\t\t\t\t<p>{{item.businessExplain}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<!-- 底部菜单部分 -->\r\n\t\t<Footer></Footer>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Footer from '../components/Footer.vue';\r\n\t\r\n\texport default{\r\n\t\tname:'BusinessList',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\torderTypeId: this.$route.query.orderTypeId,\r\n\t\t\t\tbusinessArr:[],\r\n\t\t\t\tuser:{}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.user = this.$getSessionStorage('user');\r\n\t\t\t\r\n\t\t\t//根据orderTypeId查询商家信息\r\n\t\t\tthis.$axios.post('BusinessController/listBusinessByOrderTypeId',this.$qs.stringify({\r\n\t\t\t\torderTypeId:this.orderTypeId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.businessArr = response.data;\r\n\t\t\t\t//判断是否登录\r\n\t\t\t\tif(this.user!=null){\r\n\t\t\t\t\tthis.listCart();\r\n\t\t\t\t}\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tFooter\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tlistCart(){\r\n\t\t\t\tthis.$axios.post('CartController/listCart',this.$qs.stringify({\r\n\t\t\t\t\tuserId:this.user.userId\r\n\t\t\t\t})).then(response=>{\r\n\t\t\t\t\tlet cartArr = response.data;\r\n\t\t\t\t\t//遍历所有食品列表\r\n\t\t\t\t\tfor(let businessItem of this.businessArr){\r\n\t\t\t\t\t\tbusinessItem.quantity = 0;\r\n\t\t\t\t\t\tfor(let cartItem of cartArr){\r\n\t\t\t\t\t\t\tif(cartItem.businessId==businessItem.businessId){\r\n\t\t\t\t\t\t\t\tbusinessItem.quantity += cartItem.quantity;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.businessArr.sort();\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoBusinessInfo(businessId){\r\n\t\t\t\tthis.$router.push({path:'/businessInfo',query:{businessId:businessId}});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ******************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/****************** header部分 ******************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097FF;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/****************** 商家列表部分 ******************/\r\n\t.wrapper .business {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 12vw;\r\n\t\tmargin-bottom: 14vw;\r\n\t}\r\n\r\n\t.wrapper .business li {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 2.5vw;\r\n\t\tborder-bottom: solid 1px #DDD;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .business li .business-img {\r\n\t\t/*这里设置为相当定位，成为business-img-quantity元素的父元素*/\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.wrapper .business li .business-img img {\r\n\t\twidth: 20vw;\r\n\t\theight: 20vw;\r\n\t}\r\n\r\n\t.wrapper .business li .business-img .business-img-quantity {\r\n\t\twidth: 5vw;\r\n\t\theight: 5vw;\r\n\t\tbackground-color: red;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 3.6vw;\r\n\t\tborder-radius: 2.5vw;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\t/*设置成绝对定位，不占文档流空间*/\r\n\t\tposition: absolute;\r\n\t\tright: -1.5vw;\r\n\t\ttop: -1.5vw;\r\n\t}\r\n\r\n\t.wrapper .business li .business-info {\r\n\t\tmargin-left: 3vw;\r\n\t}\r\n\r\n\t.wrapper .business li .business-info h3 {\r\n\t\tfont-size: 3.8vw;\r\n\t\tcolor: #555;\r\n\t}\r\n\r\n\t.wrapper .business li .business-info p {\r\n\t\tfont-size: 3vw;\r\n\t\tcolor: #888;\r\n\t\tmargin-top: 2vw;\r\n\t}\r\n</style>\n"],"mappings":";AA8BA,OAAAA,MAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,WAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,WAAA;MACAG,WAAA;MACAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAD,IAAA,QAAAE,kBAAA;;IAEA;IACA,KAAAC,MAAA,CAAAC,IAAA,sDAAAC,GAAA,CAAAC,SAAA;MACAV,WAAA,OAAAA;IACA,IAAAW,IAAA,CAAAC,QAAA;MACA,KAAAT,WAAA,GAAAS,QAAA,CAAAb,IAAA;MACA;MACA,SAAAK,IAAA;QACA,KAAAS,QAAA;MACA;IACA,GAAAC,KAAA,CAAAC,KAAA;MACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;IACA;EACA;EACAE,UAAA;IACApB;EACA;EACAqB,OAAA;IACAL,SAAA;MACA,KAAAN,MAAA,CAAAC,IAAA,iCAAAC,GAAA,CAAAC,SAAA;QACAS,MAAA,OAAAf,IAAA,CAAAe;MACA,IAAAR,IAAA,CAAAC,QAAA;QACA,IAAAQ,OAAA,GAAAR,QAAA,CAAAb,IAAA;QACA;QACA,SAAAsB,YAAA,SAAAlB,WAAA;UACAkB,YAAA,CAAAC,QAAA;UACA,SAAAC,QAAA,IAAAH,OAAA;YACA,IAAAG,QAAA,CAAAC,UAAA,IAAAH,YAAA,CAAAG,UAAA;cACAH,YAAA,CAAAC,QAAA,IAAAC,QAAA,CAAAD,QAAA;YACA;UACA;QACA;QACA,KAAAnB,WAAA,CAAAsB,IAAA;MACA,GAAAX,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACAW,eAAAF,UAAA;MACA,KAAAG,OAAA,CAAAC,IAAA;QAAAC,IAAA;QAAA3B,KAAA;UAAAsB,UAAA,EAAAA;QAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}